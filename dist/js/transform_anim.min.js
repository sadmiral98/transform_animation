class transformAnim{constructor(t){this.params=t,t.id&&t.new_element&&this.generateElement()}generateElement(){let t=document.getElementById(this.params.id);if(!t)return;let e=parseInt(getComputedStyle(t).zIndex)||0;t.style.cursor="pointer";let s=t.getBoundingClientRect(),a=document.createElement("div");a.innerHTML=this.params.new_element.trim();let r=a.firstChild;r.style.margin="0",r.style.padding="0",r.style.boxSizing="border-box",r.style.cursor="pointer";let n=getComputedStyle(t),i=parseFloat(n.marginTop)||0,l=parseFloat(n.marginLeft)||0;"fixed"===n.position?(r.style.position="fixed",r.style.top=`${Math.round(s.top)}px`,r.style.left=`${Math.round(s.left)}px`):(r.style.position="absolute",r.style.top=`${Math.round(s.top+window.scrollY-i)}px`,r.style.left=`${Math.round(s.left+window.scrollX-l)}px`),r.style.width=`${Math.round(s.width)}px`,r.style.height=`${Math.round(s.height)}px`,r.style.zIndex=e-1,r.style.opacity="0",r.style.transition="transform 0.6s ease, opacity 0.6s ease",r.style.transformOrigin="center center",r.style.backfaceVisibility="hidden",document.body.appendChild(r),this.target=t,this.targetZIndex=e,this.newEl=r}setupAnimation(t){this.animationConfigured?alert("Cannot configure twice!"):("rotate-right"==t.animation?this.setupRightRotation():"rotate-left"==t.animation?this.setupLeftRotation():"rotate"==t.animation?this.setupRotate():"fade-scale"==t.animation?this.setupFadeScale():"slide-vertical"==t.animation?this.setupSlideVertical():"slide-horizontal"==t.animation?this.setupSlideHorizontal():"flip"==t.animation?this.setupFlip3D():"morph"==t.animation?this.setupMorph():"wave"==t.animation?this.setupWave():"bounce"==t.animation?this.setupBounce():console.error("Animation for '",t.animation,"' are not exist"),this.animationConfigured=!0)}setupRightRotation(){let t=this.target,e=this.newEl;this.currentTargetDeg=180,this.currentNewDeg=0;let s=this.targetZIndex;t&&e&&(e.style.transform="rotate(-180deg)",e.style.transition="transform 0.6s ease, opacity 0.6s ease",e.style.transformOrigin="center center",t.style.transition="transform 0.6s ease, opacity 0.6s ease",t.style.transformOrigin="center center",t.addEventListener("click",()=>{t.style.transform=`rotate(${this.currentTargetDeg}deg)`,t.style.opacity="0",e.style.transform=`rotate(${this.currentNewDeg}deg)`,e.style.opacity="1",e.style.zIndex=s,this.currentTargetDeg+=180,this.currentNewDeg+=180}),e.addEventListener("click",()=>{e.style.transform=`rotate(${this.currentNewDeg}deg)`,e.style.opacity="0",t.style.transform=`rotate(${this.currentTargetDeg}deg)`,t.style.opacity="1",e.style.zIndex=s-1,this.currentTargetDeg+=180,this.currentNewDeg+=180}))}setupLeftRotation(){let t=this.target,e=this.newEl;this.currentTargetDeg=-180,this.currentNewDeg=0;let s=this.targetZIndex;t&&e&&(e.style.transform="rotate(180deg)",e.style.transition="transform 0.6s ease, opacity 0.6s ease",e.style.transformOrigin="center center",t.style.transition="transform 0.6s ease, opacity 0.6s ease",t.style.transformOrigin="center center",t.addEventListener("click",()=>{t.style.transform=`rotate(${this.currentTargetDeg}deg)`,t.style.opacity="0",e.style.transform=`rotate(${this.currentNewDeg}deg)`,e.style.opacity="1",this.currentTargetDeg-=180,this.currentNewDeg-=180,e.style.zIndex=s}),e.addEventListener("click",()=>{e.style.transform=`rotate(${this.currentNewDeg}deg)`,e.style.opacity="0",t.style.transform=`rotate(${this.currentTargetDeg}deg)`,t.style.opacity="1",this.currentTargetDeg-=180,this.currentNewDeg-=180,e.style.zIndex=s-1}))}setupRotate(){let t=this.target,e=this.newEl,s=this.targetZIndex;t&&e&&(e.style.transform="rotate(-180deg)",e.style.transition="transform 0.6s ease, opacity 0.6s ease",e.style.transformOrigin="center center",t.style.transition="transform 0.6s ease, opacity 0.6s ease",t.style.transformOrigin="center center",t.addEventListener("click",()=>{t.style.transform="rotate(180deg)",t.style.opacity="0",e.style.transform="rotate(0deg)",e.style.opacity="1",e.style.zIndex=s}),e.addEventListener("click",()=>{e.style.transform="rotate(-180deg)",e.style.opacity="0",t.style.transform="rotate(0deg)",t.style.opacity="1",e.style.zIndex=s-1}))}setupFadeScale(){let t=this.target,e=this.newEl,s=this.targetZIndex;t&&e&&(e.style.transform="scale(0.5)",e.style.opacity="0",e.style.transition="transform 0.5s ease, opacity 0.5s ease",t.style.transition="transform 0.5s ease, opacity 0.5s ease",t.addEventListener("click",()=>{t.style.opacity="0",t.style.transform="scale(0.5)",e.style.opacity="1",e.style.transform="scale(1)",e.style.zIndex=s}),e.addEventListener("click",()=>{t.style.opacity="1",t.style.transform="scale(1)",e.style.opacity="0",e.style.transform="scale(0.5)",e.style.zIndex=s-1}))}setupSlideVertical(){let t=this.target,e=this.newEl,s=this.targetZIndex;t&&e&&(e.style.transform="translateY(100%)",e.style.opacity="0",e.style.transition="transform 0.6s ease, opacity 0.6s ease",t.style.transition="transform 0.6s ease, opacity 0.6s ease",t.addEventListener("click",()=>{t.style.transform="translateY(-100%)",t.style.opacity="0",e.style.transform="translateY(0)",e.style.opacity="1",e.style.zIndex=s}),e.addEventListener("click",()=>{t.style.transform="translateY(0)",t.style.opacity="1",e.style.transform="translateY(100%)",e.style.opacity="0",e.style.zIndex=s-1}))}setupSlideHorizontal(){let t=this.target,e=this.newEl,s=this.targetZIndex;t&&e&&(e.style.transform="translateX(100%)",e.style.opacity="0",e.style.transition="transform 0.6s ease, opacity 0.6s ease",t.style.transition="transform 0.6s ease, opacity 0.6s ease",t.addEventListener("click",()=>{t.style.transform="translateX(-100%)",t.style.opacity="0",e.style.transform="translateX(0)",e.style.opacity="1",e.style.zIndex=s}),e.addEventListener("click",()=>{t.style.transform="translateX(0)",t.style.opacity="1",e.style.transform="translateX(100%)",e.style.opacity="0",e.style.zIndex=s-1}))}setupFlip3D(){let t=this.target,e=this.newEl,s=this.targetZIndex;if(!t||!e)return;let a=t.getBoundingClientRect();e.style.top=`${Math.round(a.top+window.scrollY)}px`,e.style.left=`${Math.round(a.left+window.scrollX)}px`,e.style.width=`${Math.round(a.width)}px`,e.style.height=`${Math.round(a.height)}px`,e.style.margin="0",e.style.padding="0",e.style.boxSizing="border-box",e.style.backfaceVisibility="hidden",t.style.backfaceVisibility="hidden",e.style.transform="rotateY(180deg)",e.style.opacity="0",e.style.transition="transform 0.6s ease, opacity 0.6s ease",t.style.transition="transform 0.6s ease, opacity 0.6s ease",t.style.transformOrigin="center center",e.style.transformOrigin="center center",t.addEventListener("click",()=>{t.style.transform="rotateY(-180deg)",t.style.opacity="0",e.style.transform="rotateY(0deg)",e.style.opacity="1",e.style.zIndex=s}),e.addEventListener("click",()=>{t.style.transform="rotateY(0deg)",t.style.opacity="1",e.style.transform="rotateY(180deg)",e.style.opacity="0",e.style.zIndex=s-1})}setupMorph(){let t=this.target,e=this.newEl,s=this.targetZIndex;t&&e&&(e.style.transform="scale(0.3) rotate(-180deg)",e.style.opacity="0",e.style.transition="transform 0.6s ease, opacity 0.6s ease",t.style.transition="transform 0.6s ease, opacity 0.6s ease",t.addEventListener("click",()=>{t.style.transform="scale(0.3) rotate(180deg)",t.style.opacity="0",e.style.transform="scale(1) rotate(0deg)",e.style.opacity="1",e.style.zIndex=s}),e.addEventListener("click",()=>{t.style.transform="scale(1) rotate(0deg)",t.style.opacity="1",e.style.transform="scale(0.3) rotate(-180deg)",e.style.opacity="0",e.style.zIndex=s-1}))}setupWave(){let t=this.target,e=this.newEl,s=this.targetZIndex;t&&e&&(e.style.transform="skewY(15deg) scale(0.9)",e.style.opacity="0",e.style.transition="transform 0.6s ease, opacity 0.6s ease",t.style.transition="transform 0.6s ease, opacity 0.6s ease",t.addEventListener("click",()=>{t.style.transform="skewY(-15deg) scale(0.9)",t.style.opacity="0",e.style.transform="skewY(0deg) scale(1)",e.style.opacity="1",e.style.zIndex=s}),e.addEventListener("click",()=>{t.style.transform="skewY(0deg) scale(1)",t.style.opacity="1",e.style.transform="skewY(15deg) scale(0.9)",e.style.opacity="0",e.style.zIndex=s-1}))}setupBounce(){let t=this.target,e=this.newEl,s=this.targetZIndex;t&&e&&(e.style.transform="scale(0.5)",e.style.opacity="0",e.style.transition="transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.4s ease",t.style.transition="transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.4s ease",t.addEventListener("click",()=>{t.style.transform="scale(0.5)",t.style.opacity="0",e.style.transform="scale(1.05)",e.style.opacity="1",setTimeout(()=>{e.style.transform="scale(1)"},300),e.style.zIndex=s}),e.addEventListener("click",()=>{t.style.transform="scale(1.05)",t.style.opacity="1",e.style.transform="scale(0.5)",e.style.opacity="0",setTimeout(()=>{t.style.transform="scale(1)"},300),e.style.zIndex=s-1}))}}